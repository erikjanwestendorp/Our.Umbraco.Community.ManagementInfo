{"version":3,"file":"assets.js","sources":["../../../assets/src/my-element.ts"],"sourcesContent":["import { LitElement, html, customElement, css } from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\r\nimport { UMB_WORKSPACE_CONTEXT, UmbEntityWorkspaceContext } from \"@umbraco-cms/backoffice/workspace\";\r\nimport { UmbDocumentTypeDetailRepository } from '@umbraco-cms/backoffice/document-type';\r\nimport { UmbMediaTypeDetailRepository } from '@umbraco-cms/backoffice/media-type';\r\nimport { UmbDataTypeDetailRepository } from '@umbraco-cms/backoffice/data-type';\r\nimport { UmbMemberTypeDetailRepository } from '@umbraco-cms/backoffice/member-type';\r\n\r\n@customElement('my-workspaceview')\r\nexport default class MyWorspaceViewElement extends UmbElementMixin(LitElement) {\r\n\r\n    private documentTypeJson: string = '{}';\r\n    private entityType: string = '';\r\n    constructor() {\r\n        super();\r\n\r\n        this.consumeContext(UMB_WORKSPACE_CONTEXT, async (ctx) => {\r\n            const context = ctx as UmbEntityWorkspaceContext;\r\n            const unique = context.getUnique();\r\n            this.entityType = context.getEntityType();\r\n            if (unique) {\r\n                let repository;\r\n                switch (this.entityType) {\r\n                    case 'document-type':\r\n                        repository = new UmbDocumentTypeDetailRepository(this);                       \r\n                        break;\r\n                    case 'media-type':\r\n                        repository = new UmbMediaTypeDetailRepository(this);\r\n                        break;\r\n                    case 'data-type':\r\n                        repository = new UmbDataTypeDetailRepository(this);\r\n                        break;\r\n                    case 'member-type':\r\n                        repository = new UmbMemberTypeDetailRepository(this);\r\n                        break;\r\n                    default:\r\n                        console.error('Unsupported entity type:', context.getEntityType());\r\n                        return;\r\n                }\r\n\r\n                try {\r\n                    const entityDetails = await repository.requestByUnique(unique);\r\n\r\n                    if (entityDetails) {\r\n                        // Convert the details to a JSON string with indentation\r\n                        this.documentTypeJson = JSON.stringify(entityDetails.data, null, 2);\r\n                        this.requestUpdate(); // Request a re-render to display the JSON\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Error fetching entity details:', error);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return html`     \r\n        <uui-box headline=\"${this.entityType}\">\r\n            <umb-code-block language=\"JSON\" copy>${this.documentTypeJson}</umb-code-block>\r\n        </uui-box>`;\r\n    }\r\n\r\n    static styles = css`\r\n    uui-box {\r\n        margin: 20px;\r\n    }\r\n  `;\r\n}\r\n\r\ndeclare global {\r\n    interface HTMLElementTagNameMap {\r\n        'my-workspaceview': MyWorspaceViewElement;\r\n    }\r\n}\r\n"],"names":["MyWorspaceViewElement","UmbElementMixin","LitElement","UMB_WORKSPACE_CONTEXT","ctx","context","unique","repository","UmbDocumentTypeDetailRepository","UmbMediaTypeDetailRepository","UmbDataTypeDetailRepository","UmbMemberTypeDetailRepository","entityDetails","error","html","css","__decorateClass","customElement"],"mappings":";;;;;;;;;;;;AASA,IAAqBA,IAArB,cAAmDC,EAAgBC,CAAU,EAAE;AAAA,EAI3E,cAAc;AACJ,aAHV,KAAQ,mBAA2B,MACnC,KAAQ,aAAqB,IAIpB,KAAA,eAAeC,GAAuB,OAAOC,MAAQ;AACtD,YAAMC,IAAUD,GACVE,IAASD,EAAQ;AAEvB,UADK,KAAA,aAAaA,EAAQ,iBACtBC,GAAQ;AACJ,YAAAC;AACJ,gBAAQ,KAAK,YAAY;AAAA,UACrB,KAAK;AACY,YAAAA,IAAA,IAAIC,EAAgC,IAAI;AACrD;AAAA,UACJ,KAAK;AACY,YAAAD,IAAA,IAAIE,EAA6B,IAAI;AAClD;AAAA,UACJ,KAAK;AACY,YAAAF,IAAA,IAAIG,EAA4B,IAAI;AACjD;AAAA,UACJ,KAAK;AACY,YAAAH,IAAA,IAAII,EAA8B,IAAI;AACnD;AAAA,UACJ;AACI,oBAAQ,MAAM,4BAA4BN,EAAQ,cAAe,CAAA;AACjE;AAAA,QACR;AAEI,YAAA;AACA,gBAAMO,IAAgB,MAAML,EAAW,gBAAgBD,CAAM;AAE7D,UAAIM,MAEA,KAAK,mBAAmB,KAAK,UAAUA,EAAc,MAAM,MAAM,CAAC,GAClE,KAAK,cAAc;AAAA,iBAElBC,GAAO;AACJ,kBAAA,MAAM,kCAAkCA,CAAK;AAAA,QACzD;AAAA,MACJ;AAAA,IAAA,CACH;AAAA,EACL;AAAA,EAEA,SAAS;AACE,WAAAC;AAAA,6BACc,KAAK,UAAU;AAAA,mDACO,KAAK,gBAAgB;AAAA;AAAA,EAEpE;AAOJ;AA1DqBd,EAqDV,SAASe;AAAA;AAAA;AAAA;AAAA;AArDCf,IAArBgB,EAAA;AAAA,EADCC,EAAc,kBAAkB;AAAA,GACZjB,CAAA;"}